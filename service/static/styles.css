html, body { height: 100%; margin: 0; font-family: system-ui, sans-serif; color: #e6e6e6; background: #1e1e1e; }
/* Layout: prevent page-level scroll; only panes scroll */
body { display: flex; flex-direction: column; height: 100%; overflow: hidden; }
header { display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; background: #252526; border-bottom: 1px solid #333; position: relative; z-index: 100; }
header h1 { font-size: 16px; margin: 0; }
.toolbar { display: flex; gap: 6px; margin-left: 12px; overflow: visible; }
.toolbar button { background: #333; color: #ddd; border: 1px solid #555; width: 28px; height: 28px; border-radius: 4px; padding: 0; font-size: 14px; line-height: 28px; text-align: center; cursor: pointer; }
.toolbar button:hover { background: #3a3a3a; }
.toolbar button { position: relative; }
/* CSS pseudo-element tooltips removed in favor of JS-driven .q-tooltip */
.controls { display: flex; gap: 8px; align-items: center; }
main { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 8px; box-sizing: border-box; flex: 1 1 auto; min-height: 0; overflow: hidden; }
.pane { display: flex; flex-direction: column; border: 1px solid #333; border-radius: 4px; overflow: hidden; min-height: 0; min-width: 0; }
.pane-title { background: #2d2d2d; padding: 6px 8px; border-bottom: 1px solid #333; font-size: 12px; color: #ccc; }
textarea#code { flex: 1; background: #1e1e1e; color: #e6e6e6; border: none; resize: none; padding: 8px; font-family: "Fira Code", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; font-size: 13px; overflow: auto; }
/* CodeMirror theme adjustments to match dark UI */
.CodeMirror { flex: 1; height: 420px; background: #1e1e1e; color: #e6e6e6; font-family: "Fira Code", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; font-size: 13px; border: none; }
.CodeMirror-gutters { background: #2d2d2d; border-right: 1px solid #333; }
.CodeMirror-linenumber { color: #9e9e9e; }
#status.status { padding: 4px 8px; font-size: 11px; background: #2d2d2d; border-top: 1px solid #333; color: #bbb; }
pre.scroll { flex: 1; margin: 0; padding: 8px; background: #1b1b1b; overflow: auto; font-size: 12px; }
section.io { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 0 8px 8px; height: 160px; flex: 0 0 auto; }
section.io textarea { height: 120px; width: 100%; background: #1e1e1e; color: #e6e6e6; border: 1px solid #333; border-radius: 4px; resize: none; padding: 8px; font-family: ui-monospace, monospace; font-size: 12px; }
#stdout { height: 120px; }
button, select { background: #0e639c; color: white; border: none; padding: 6px 10px; border-radius: 4px; cursor: pointer; }
select { background: #333; border: 1px solid #555; }
button:hover { filter: brightness(1.1); }
pre.error { color: #ff8a80; white-space: pre-wrap; }
footer { padding: 6px 12px; border-top: 1px solid #333; color: #bbb; display: flex; justify-content: space-between; align-items: center; gap: 12px; }
footer .cookies-note { margin-left: auto; opacity: 0.9; }
footer .beta { color: #ffa726; opacity: 0.95; }
footer .version { opacity: 0.9; }

/* JS-driven tooltip */
.q-tooltip { position: fixed; background: #2d2d2d; color: #eee; padding: 6px 8px; border-radius: 4px; font-size: 12px; white-space: pre; border: 1px solid #555; box-shadow: 0 6px 16px rgba(0,0,0,0.5); z-index: 4000; pointer-events: none; max-width: 60vw; }

/* Toast notification */
.q-toast {
	position: fixed;
	top: 12px;
	left: 50%;
	transform: translate(-50%, -12px);
	background: #2e7d32; /* green */
	color: #fff;
	padding: 10px 14px;
	border-radius: 6px;
	font-size: 13px;
	box-shadow: 0 8px 22px rgba(0,0,0,0.6);
	z-index: 5000;
	opacity: 0;
	pointer-events: none;
	transition: opacity .2s ease, transform .2s ease;
}
.q-toast.show {
	opacity: 1;
	transform: translate(-50%, 0);
}

/* Responsive adjustments */
@media (max-width: 900px) {
	/* Allow page scroll on mobile */
	body { overflow: auto; }

	/* Let main content flow and be scrollable if needed */
	main { overflow: visible; }

	/* Stack panes into single column */
	main { grid-template-columns: 1fr; }

		/* Input/Output section stacked vertically and flexible */
		section.io { display: flex; flex-direction: column; gap: 8px; padding: 8px; height: auto; }
		section.io > div { display: flex; flex-direction: column; width: 100%; }
		section.io .pane-title { margin-bottom: 4px; }
		section.io textarea { height: 20vh; }
		#stdout { height: 20vh; max-height: 28vh; }

	/* Editor height relative to viewport */
		.CodeMirror { height: 55vh; }
		.pane.left { min-height: 56vh; }
		.pane.right { min-height: 24vh; }
		pre.scroll { max-height: 26vh; }

	/* Wrap controls/buttons in header */
	.controls { flex-wrap: wrap; row-gap: 6px; }
	.toolbar { flex-wrap: wrap; gap: 6px; }

	/* Make args input flexible to line width */
	.controls input#args { flex: 1 1 180px; min-width: 140px; }

	/* Footer can wrap onto multiple lines */
	footer { flex-wrap: wrap; gap: 8px; }
	footer .cookies-note { margin-left: 0; width: 100%; order: 3; }
}

@media (max-width: 600px) {
	/* Larger tap targets for toolbar buttons */
	.toolbar button { width: 36px; height: 36px; line-height: 36px; font-size: 16px; }
	header h1 { font-size: 14px; }
	.pane-title { font-size: 11px; }
	#status.status { font-size: 10px; }
	.CodeMirror { height: 50vh; }
}
