# Исполнитель Робот

**Робот** — графический исполнитель, перемещающийся по клетчатому полю. Робот может закрашивать клетки, проверять наличие стен и измерять температуру/радиацию.
Для использования первой строкой программы укажите
```
использовать Робот
```

## Поле робота

Поле представляет собой прямоугольную сетку клеток. На поле могут быть:
- **Стены** — непроходимые препятствия между клетками
- **Закрашенные клетки** — клетки, которые робот закрасил
- **Датчики** — клетки с температурой или радиацией

## Команды перемещения

| Команда | Описание |
|---------|----------|
| `влево` | Переместиться на одну клетку влево |
| `вправо` | Переместиться на одну клетку вправо |
| `вверх` | Переместиться на одну клетку вверх |
| `вниз` | Переместиться на одну клетку вниз |

При попытке пройти сквозь стену возникает ошибка.

## Закрашивание

| Команда | Описание |
|---------|----------|
| `закрасить` | Закрасить текущую клетку |

## Проверка стен

| Функция | Описание |
|---------|----------|
| `слева свободно` | Истина, если слева нет стены |
| `справа свободно` | Истина, если справа нет стены |
| `сверху свободно` | Истина, если сверху нет стены |
| `снизу свободно` | Истина, если снизу нет стены |
| `слева стена` | Истина, если слева стена |
| `справа стена` | Истина, если справа стена |
| `сверху стена` | Истина, если сверху стена |
| `снизу стена` | Истина, если снизу стена |

## Проверка клетки

| Функция | Описание |
|---------|----------|
| `клетка закрашена` | Истина, если текущая клетка закрашена |
| `клетка чистая` | Истина, если текущая клетка не закрашена |

## Датчики

| Функция | Описание |
|---------|----------|
| `температура` | Значение температуры в текущей клетке |
| `радиация` | Значение радиации в текущей клетке |

## Примеры

### Простое перемещение

```
использовать Робот
алг
нач
    вправо
    вправо
    вниз
    закрасить
кон
```

### Закрасить ряд

```
использовать Робот
алг
нач
    нц пока справа_свободно
        закрасить
        вправо
    кц
    закрасить  | последняя клетка
кон
```

### Закрасить квадрат 3×3

```
использовать Робот
алг
нач
    нц для i от 1 до 3
        нц для j от 1 до 3
            закрасить
            если j < 3
            то
                вправо
            все
        кц
        если i < 3
        то
            влево
            влево
            вниз
        все
    кц
кон
```

### Обход препятствия

```
использовать Робот
алг
нач
    | Идём вправо, обходя стены
    нц пока справа_свободно или снизу_свободно
        если справа_свободно
        то
            вправо
        иначе
            вниз
        все
        закрасить
    кц
кон
```

### Следование вдоль стены

```
алг
нач
    | Идём вдоль правой стены
    нц пока не клетка_закрашена
        закрасить
        если справа_свободно
        то
            вправо
            если снизу_свободно
            то
                вниз
            все
        иначе если сверху_свободно
        то
            вверх
        иначе если слева_свободно
        то
            влево
        все
    кц
кон
```

### Заливка области

```
использовать Робот
алг
нач
    заливка
кон

алг заливка
нач
    если клетка_чистая
    то
        закрасить
        если сверху_свободно
        то
            вверх
            заливка
            вниз
        все
        если снизу_свободно
        то
            вниз
            заливка
            вверх
        все
        если слева_свободно
        то
            влево
            заливка
            вправо
        все
        если справа_свободно
        то
            вправо
            заливка
            влево
        все
    все
кон
```

## Файл поля (.fil)

Поле робота задаётся в текстовом файле формата `.fil`:

```
; Комментарий
7 7           ; Размер поля: ширина высота
0 0           ; Начальная позиция робота: x y
; Специальные клетки: x y СтенаN СтенаE СтенаS СтенаW Закрашена Метка Радиация Температура R G B
3 3 0 1 0 0 0 0 0 0 0 0 0    ; клетка (3,3) со стеной справа
```

### Формат специальных клеток

| Поле | Описание |
|------|----------|
| x, y | Координаты клетки |
| СтенаN | 1 = стена сверху |
| СтенаE | 1 = стена справа |
| СтенаS | 1 = стена снизу |
| СтенаW | 1 = стена слева |
| Закрашена | 1 = клетка закрашена |
| Метка | Метка клетки (не используется) |
| Радиация | Значение радиации |
| Температура | Значение температуры |
| R, G, B | Цвет (не используется) |

## Использование в онлайн-песочнице

1. Откройте [qumir.dev](https://qumir.dev)
2. Добавьте файл поля `.fil` через кнопку **＋** в секции IO
3. Напишите программу с командами робота
4. Нажмите **Run**
5. Переключите вывод на **Робот** для просмотра поля

Если файл поля не добавлен, используется поле по умолчанию 7×7 без стен.

## Система координат

- (0, 0) — левый верхний угол
- X увеличивается вправо
- Y увеличивается вниз

## См. также

- [Исполнитель Черепаха](turtle.md)
- [Примеры программ](examples.md)
